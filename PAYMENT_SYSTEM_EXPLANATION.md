# üí≥ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞—Ç–µ–∂–µ–π

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é –≤—ã –≤–∏–¥–∏—Ç–µ

–û—à–∏–±–∫–∞: **"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞"** –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω **Shop ID** –æ—Ç –ÆKassa.

–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ:
```
Error in shopId or secret key. Check their validity.
```

## üîß –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ Shop ID –æ—Ç –ÆKassa

1. –ó–∞–π–¥–∏—Ç–µ –≤ [–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ÆKassa](https://yookassa.ru/)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"** ‚Üí **"API"**
3. –ù–∞–π–¥–∏—Ç–µ **"Shop ID"** (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞) - —ç—Ç–æ —á–∏—Å–ª–æ –≤–∏–¥–∞ `123456`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```
YOOKASSA_SHOP_ID=–≤–∞—à_shop_id_–∑–¥–µ—Å—å
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
```
YOOKASSA_SHOP_ID=123456
YOOKASSA_SECRET_KEY=live_rQivMWcqdtivU4TDbP4w-fyX5mwyFqEQR582FY7HDsM
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env` —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞.

---

## üìñ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π

### 1Ô∏è‚É£ **Premium –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è –º—É–∂—á–∏–Ω**

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
1. –ú—É–∂—á–∏–Ω–∞ —Å—Ç–∞–≤–∏—Ç –ª–∞–π–∫ –¥–µ–≤—É—à–∫–µ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–í–∑–∞–∏–º–Ω–∞—è —Å–∏–º–ø–∞—Ç–∏—è!"
2. –ë–µ–∑ Premium –æ–Ω **–ù–ï –º–æ–∂–µ—Ç** —É–≤–∏–¥–µ—Ç—å, –∫—Ç–æ –µ–≥–æ –ª–∞–π–∫–Ω—É–ª
3. –ù–∞–∂–∏–º–∞–µ—Ç "üíé –ü–æ–ª—É—á–∏—Ç—å Premium –¥–æ—Å—Ç—É–ø"
4. –í—ã–±–∏—Ä–∞–µ—Ç:
   - **–ü—Ä–æ–±–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞** (1 –¥–µ–Ω—å –∑–∞ 10‚ÇΩ) - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—â—ë –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª
   - **–ú–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞** (30 –¥–Ω–µ–π –∑–∞ 999‚ÇΩ) - –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
5. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã –ÆKassa
6. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–∏–º–∞–µ—Ç "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª"
7. –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É
8. –¢–µ–ø–µ—Ä—å –º—É–∂—á–∏–Ω–∞ –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å, –∫—Ç–æ –µ–≥–æ –ª–∞–π–∫–Ω—É–ª, –∏ –Ω–∞—á–∏–Ω–∞—Ç—å —á–∞—Ç—ã

**–õ–æ–≥–∏–∫–∞:**
- –ü–µ—Ä–≤–∞—è –ø–æ–∫—É–ø–∫–∞: –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å **1 –¥–µ–Ω—å –∑–∞ 10‚ÇΩ** (–ø—Ä–æ–±–Ω–∞—è)
- –ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è –ø—Ä–æ–±–Ω–æ–π: –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å **—Ç–æ–ª—å–∫–æ –º–µ—Å—è—Ü –∑–∞ 999‚ÇΩ**
- –ü–æ–¥–ø–∏—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è

---

### 2Ô∏è‚É£ **–î–æ–Ω–∞—Ç—ã (–æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–µ–Ω–µ–≥ –¥–µ–≤—É—à–∫–µ)**

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
1. –î–µ–≤—É—à–∫–∞ –∑–∞—Ö–æ–¥–∏—Ç –≤ **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** ‚Üí **"üîó –°—Å—ã–ª–∫–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã"**
2. –í—ã–±–∏—Ä–∞–µ—Ç —Å–≤–æ—é –∞–Ω–∫–µ—Ç—É
3. –ü–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –≤–∏–¥–∞: `https://t.me/chatteastbot?start=donate_2`
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É –∫–ª–∏–µ–Ω—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö)
5. –ö–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ ‚Üí –±–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É (–º–∏–Ω–∏–º—É–º 50‚ÇΩ)
6. –ö–ª–∏–µ–Ω—Ç –≤–≤–æ–¥–∏—Ç —Å—É–º–º—É ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É
7. –û–ø–ª–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ –ÆKassa
8. –î–µ–≤—É—à–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ–Ω–∞—Ç–µ

**–õ–æ–≥–∏–∫–∞:**
- –ö–ª–∏–µ–Ω—Ç —Å–∞–º —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å—É–º–º—É (–æ—Ç 50‚ÇΩ –¥–æ 100 000‚ÇΩ)
- –î–µ–Ω—å–≥–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (–Ω–µ –Ω–∞ –ª–∏—á–Ω—É—é –∫–∞—Ä—Ç—É –¥–µ–≤—É—à–∫–∏)
- –î–µ–≤—É—à–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ–Ω–∞—Ç–∞

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏)

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É –æ–ø–ª–∞—Ç—ã**
   - –ë–æ—Ç –≤—ã–∑—ã–≤–∞–µ—Ç `payments.create_subscription_payment()` –∏–ª–∏ `payments.create_donation_payment()`

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ `YOOKASSA_SHOP_ID` –∏ `YOOKASSA_SECRET_KEY`
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞

3. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ –≤ –ÆKassa**
   - –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å —Å —Å—É–º–º–æ–π, –æ–ø–∏—Å–∞–Ω–∏–µ–º, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ API –ÆKassa —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `yookassa`

4. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–ø–ª–∞—Ç—É**
   - –ÆKassa –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `payment_id` –∏ `confirmation_url`
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç**
   - –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ ‚Üí –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –±–æ—Ç–∞

6. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª"
   - –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ `payments.check_payment_status()`
   - –ï—Å–ª–∏ –æ–ø–ª–∞—á–µ–Ω–æ ‚Üí –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å–∫–∞/–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `subscriptions`
- –•—Ä–∞–Ω–∏—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–ª—è: `user_id`, `subscription_type` (trial/monthly), `expires_at`, `is_active`

### –¢–∞–±–ª–∏—Ü–∞ `payments`
- –•—Ä–∞–Ω–∏—Ç –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏
- –ü–æ–ª—è: `payment_id` (ID –æ—Ç –ÆKassa), `amount`, `status`, `payment_type`, `user_id`

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **Shop ID –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - –±–µ–∑ –Ω–µ–≥–æ –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
2. **Secret Key** - —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –∫–æ–¥–µ (live –∫–ª—é—á)
3. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - –±–æ—Ç —Å–∞–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–µ–π
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –ÆKassa, –±–æ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—ë—Ç —Å—Å—ã–ª–∫–∏

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–õ–æ–≥–∏ –±–æ—Ç–∞** (`logs/bot.log`):
   ```
   grep -i "payment\|yookassa\|–æ—à–∏–±–∫–∞" logs/bot.log
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env**:
   - `YOOKASSA_SHOP_ID` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º (–Ω–µ '0')
   - `YOOKASSA_SECRET_KEY` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∫–ª—é—á–æ–º

3. **–°—Ç–∞—Ç—É—Å –±–æ—Ç–∞**:
   - –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å: `Get-Process python`

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
```
1. –ó–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
2. –ù–∞–∂–∞—Ç—å "üîó –°—Å—ã–ª–∫–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã"
3. –í—ã–±—Ä–∞—Ç—å –∞–Ω–∫–µ—Ç—É –¥–µ–≤—É—à–∫–∏
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É
5. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É
```

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–∞ (–¥–æ–Ω–∞—Ç):
```
1. –ü–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ –æ—Ç –¥–µ–≤—É—à–∫–∏
2. –í–≤–µ—Å—Ç–∏ —Å—É–º–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: 500)
3. –ù–∞–∂–∞—Ç—å "–û–ø–ª–∞—Ç–∏—Ç—å"
4. –û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –ÆKassa
5. –ù–∞–∂–∞—Ç—å "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª"
```

### –î–ª—è –º—É–∂—á–∏–Ω—ã (–ø–æ–¥–ø–∏—Å–∫–∞):
```
1. –ü–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤–∑–∞–∏–º–Ω–æ–π —Å–∏–º–ø–∞—Ç–∏–∏
2. –ù–∞–∂–∞—Ç—å "üíé –ü–æ–ª—É—á–∏—Ç—å Premium –¥–æ—Å—Ç—É–ø"
3. –í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ (1 –¥–µ–Ω—å –∏–ª–∏ –º–µ—Å—è—Ü)
4. –û–ø–ª–∞—Ç–∏—Ç—å
5. –ù–∞–∂–∞—Ç—å "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª"
6. –ù–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ!
```

